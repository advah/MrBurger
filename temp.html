<!DOCTYPE html>
<html lang="ru-RU">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/normalize.css">

    <link rel="stylesheet" href="temp.css">
    <title>Document</title>
</head>
<body>
    <div class="screen-wrap">

        <button class="button">Нечто</button>    

        <template id="template">
            <div class="popup">
                <div class="popup__container">
                    <div class="popup__text"></div>
                    <a href="#" class="close-btn">x</a>
                </div>
            </div>
        </template>

    </div>

    <script>

        const template = document.querySelector('#template');
        var popupContent = template.innerHTML;
        var popupTriger = popupFunc(popupContent); 
        var popupGreeting = 'Привет, loftshcool!';
        console.log(popupGreeting);
        const button = document.querySelector('.button');
        button.addEventListener('click', function() {
            popupTriger.open();
            popupTriger.textContent(popupGreeting);
        });
    


        function popupFunc (content) {
            let tempWrap = document.createElement('div');
            tempWrap.innerHTML = content;
            
            let popup = tempWrap.querySelector('.popup');
            var popupText = tempWrap.querySelector('.popup__text');
            
            let closeBtn = tempWrap.querySelector('.close-btn');

            tempWrap = null;

            popup.addEventListener('click', e=> {
                if(e.target === popup) {
                    closeBtn.click();
                };
            });

            closeBtn.addEventListener('click', function() {
                document.body.removeChild(popup);
            });
            
            return {
                open() {
                    document.body.appendChild(popup);
                },
                textContent(text) {
                    popupText.textContent = text;
                }
            };
        };
 
    </script>

</body>
</html>